knitr::opts_chunk$set(echo = TRUE)
packages=c("openxlsx", "randomForest", "stringr","dplyr")
sapply(packages, require, character.only=TRUE)
#Operaversion=2.6
#Datalabel="Tox21"
Operaversion = 2.9
Datalabel = "NewChemicals223_Feb13_2024"
#chemlist=read.xlsx("~/Machine Learning/Tox21_FromCompToxDashboard.xlsx")
#chemlist$rowid=seq(1,nrow(chemlist),1)
load("~/Machine Learning/CombinedDescriptors_DED050621.RData")#descriptors in both models
knitr::opts_chunk$set(echo = TRUE)
packages=c("openxlsx", "randomForest", "stringr","dplyr")
sapply(packages, require, character.only=TRUE)
#setting wd to the folder where the file is
wd = dirname(rstudioapi::getSourceEditorContext()$path)
setwd(wd)
Operaversion = 2.9
Datalabel = "NewChemicals223_Feb13_2024"
load("CombinedDescriptors_DED050621.RData")#descriptors in both models
Descriptors$Opera=paste0(Descriptors$Opera, "_pred")
#adding the new opera predictions
Opera = read.csv("newchems-smi_OPERA2.9Pred.csv")
#adding new padel predictors
Padel <- read.csv("newchems_PadelDesc.csv")
Opera=Opera[,c(1,which(names(Opera)%in%Descriptors$Opera))]
Padel=Padel[,c(1,which(names(Padel)%in%Descriptors$Padel))]
#Merge with truncated opera and padel lists
chemlist=merge(Opera, Padel, by.x="MoleculeID", by.y="Name", all.x=TRUE)
desccols=which(names(chemlist)%in%Descriptors$Padel | names(chemlist)%in%Descriptors$Opera)
Descnames=names(chemlist)[desccols]
load("ClintModel_3Bin_040121.RData")
